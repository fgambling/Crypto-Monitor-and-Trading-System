{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.235.1"},"children":{"CryptoMonitorStack":{"id":"CryptoMonitorStack","path":"CryptoMonitorStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.235.1"},"children":{"PostsTable":{"id":"PostsTable","path":"CryptoMonitorStack/PostsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.TableBase","version":"2.235.1","metadata":[]}},"IngestFunction":{"id":"IngestFunction","path":"CryptoMonitorStack/IngestFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.235.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CryptoMonitorStack/IngestFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.235.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CryptoMonitorStack/IngestFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.1","metadata":[]}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/IngestFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CryptoMonitorStack/IngestFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/IngestFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:PutItem","dynamodb:UpdateItem","dynamodb:DeleteItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:ap-southeast-2:",{"Ref":"AWS::AccountId"},":table/Posts"]]}}],"Version":"2012-10-17"},"policyName":"IngestFunctionServiceRoleDefaultPolicy8EB1E4A7","roles":[{"Ref":"IngestFunctionServiceRole55EB4427"}]}}}}}}},"Code":{"id":"Code","path":"CryptoMonitorStack/IngestFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.235.1"},"children":{"Stage":{"id":"Stage","path":"CryptoMonitorStack/IngestFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.1"}},"AssetBucket":{"id":"AssetBucket","path":"CryptoMonitorStack/IngestFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.235.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/IngestFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-ap-southeast-2"},"s3Key":"dbbb5493c0723494f3ef0ac4db56708a603cf3c63bbde04eb8f57bf7254bb8d4.zip"},"environment":{"variables":{"TABLE_POSTS":"Posts"}},"handler":"index.handler","role":{"Fn::GetAtt":["IngestFunctionServiceRole55EB4427","Arn"]},"runtime":"nodejs20.x","timeout":10}}}}},"PostsFunction":{"id":"PostsFunction","path":"CryptoMonitorStack/PostsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.235.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CryptoMonitorStack/PostsFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.235.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CryptoMonitorStack/PostsFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.1","metadata":[]}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/PostsFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CryptoMonitorStack/PostsFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/PostsFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:Query","dynamodb:GetItem","dynamodb:Scan","dynamodb:ConditionCheckItem","dynamodb:DescribeTable"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:ap-southeast-2:",{"Ref":"AWS::AccountId"},":table/Posts"]]}},{"Action":["dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":dynamodb:ap-southeast-2:",{"Ref":"AWS::AccountId"},":table/Posts"]]}},{"Action":"dynamodb:Query","Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:dynamodb:ap-southeast-2:",{"Ref":"AWS::AccountId"},":table/Posts/index/*"]]}}],"Version":"2012-10-17"},"policyName":"PostsFunctionServiceRoleDefaultPolicyACA3B729","roles":[{"Ref":"PostsFunctionServiceRoleF2DB8406"}]}}}}}}},"Code":{"id":"Code","path":"CryptoMonitorStack/PostsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.235.1"},"children":{"Stage":{"id":"Stage","path":"CryptoMonitorStack/PostsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.1"}},"AssetBucket":{"id":"AssetBucket","path":"CryptoMonitorStack/PostsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.235.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/PostsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-ap-southeast-2"},"s3Key":"b0599c0d607b32394fc5b54e30a5a13122f5e7ca6f990a68a6ba2333cfcd31cc.zip"},"environment":{"variables":{"TABLE_POSTS":"Posts","POSTS_LIMIT":"10"}},"handler":"index.handler","role":{"Fn::GetAtt":["PostsFunctionServiceRoleF2DB8406","Arn"]},"runtime":"nodejs20.x","timeout":10}}}}},"CryptoMonitorApi":{"id":"CryptoMonitorApi","path":"CryptoMonitorStack/CryptoMonitorApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"CryptoMonitor"}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"CryptoMonitorStack/CryptoMonitorApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.235.1","metadata":[]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"CryptoMonitorStack/CryptoMonitorApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.1","metadata":[]}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}]}}}}},"Account":{"id":"Account","path":"CryptoMonitorStack/CryptoMonitorApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["CryptoMonitorApiCloudWatchRoleE0F68B4A","Arn"]}}}},"Deployment":{"id":"Deployment","path":"CryptoMonitorStack/CryptoMonitorApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"CryptoMonitorStack/CryptoMonitorApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"CryptoMonitorApiDeployment7B2F7B315cc5e5fb4e56dee205eb0833f11c5d94"},"restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"CryptoMonitorStack/CryptoMonitorApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"Default":{"id":"Default","path":"CryptoMonitorStack/CryptoMonitorApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.235.1","metadata":[]},"children":{"OPTIONS":{"id":"OPTIONS","path":"CryptoMonitorStack/CryptoMonitorApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["CryptoMonitorApi0DB8F5B2","RootResourceId"]},"restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"}}}}}},"ingest":{"id":"ingest","path":"CryptoMonitorStack/CryptoMonitorApi/Default/ingest","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Default/ingest/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CryptoMonitorApi0DB8F5B2","RootResourceId"]},"pathPart":"ingest","restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"}}}},"OPTIONS":{"id":"OPTIONS","path":"CryptoMonitorStack/CryptoMonitorApi/Default/ingest/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Default/ingest/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CryptoMonitorApiingestDB74D2C8"},"restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"}}}}}},"POST":{"id":"POST","path":"CryptoMonitorStack/CryptoMonitorApi/Default/ingest/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.235.1","metadata":[]},"children":{"ApiPermission.CryptoMonitorStackCryptoMonitorApi18B4E178.POST..ingest":{"id":"ApiPermission.CryptoMonitorStackCryptoMonitorApi18B4E178.POST..ingest","path":"CryptoMonitorStack/CryptoMonitorApi/Default/ingest/POST/ApiPermission.CryptoMonitorStackCryptoMonitorApi18B4E178.POST..ingest","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["IngestFunction4B2F2EB2","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-southeast-2:",{"Ref":"AWS::AccountId"},":",{"Ref":"CryptoMonitorApi0DB8F5B2"},"/",{"Ref":"CryptoMonitorApiDeploymentStageprod1375723F"},"/POST/ingest"]]}}}},"ApiPermission.Test.CryptoMonitorStackCryptoMonitorApi18B4E178.POST..ingest":{"id":"ApiPermission.Test.CryptoMonitorStackCryptoMonitorApi18B4E178.POST..ingest","path":"CryptoMonitorStack/CryptoMonitorApi/Default/ingest/POST/ApiPermission.Test.CryptoMonitorStackCryptoMonitorApi18B4E178.POST..ingest","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["IngestFunction4B2F2EB2","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-southeast-2:",{"Ref":"AWS::AccountId"},":",{"Ref":"CryptoMonitorApi0DB8F5B2"},"/test-invoke-stage/POST/ingest"]]}}}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Default/ingest/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["IngestFunction4B2F2EB2","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CryptoMonitorApiingestDB74D2C8"},"restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"}}}}}}}},"posts":{"id":"posts","path":"CryptoMonitorStack/CryptoMonitorApi/Default/posts","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Default/posts/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["CryptoMonitorApi0DB8F5B2","RootResourceId"]},"pathPart":"posts","restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"}}}},"OPTIONS":{"id":"OPTIONS","path":"CryptoMonitorStack/CryptoMonitorApi/Default/posts/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Default/posts/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,Authorization'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"CryptoMonitorApipostsE4EA9C3D"},"restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"}}}}}},"GET":{"id":"GET","path":"CryptoMonitorStack/CryptoMonitorApi/Default/posts/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.235.1","metadata":[]},"children":{"ApiPermission.CryptoMonitorStackCryptoMonitorApi18B4E178.GET..posts":{"id":"ApiPermission.CryptoMonitorStackCryptoMonitorApi18B4E178.GET..posts","path":"CryptoMonitorStack/CryptoMonitorApi/Default/posts/GET/ApiPermission.CryptoMonitorStackCryptoMonitorApi18B4E178.GET..posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PostsFunction3DC4AEDB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-southeast-2:",{"Ref":"AWS::AccountId"},":",{"Ref":"CryptoMonitorApi0DB8F5B2"},"/",{"Ref":"CryptoMonitorApiDeploymentStageprod1375723F"},"/GET/posts"]]}}}},"ApiPermission.Test.CryptoMonitorStackCryptoMonitorApi18B4E178.GET..posts":{"id":"ApiPermission.Test.CryptoMonitorStackCryptoMonitorApi18B4E178.GET..posts","path":"CryptoMonitorStack/CryptoMonitorApi/Default/posts/GET/ApiPermission.Test.CryptoMonitorStackCryptoMonitorApi18B4E178.GET..posts","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PostsFunction3DC4AEDB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:ap-southeast-2:",{"Ref":"AWS::AccountId"},":",{"Ref":"CryptoMonitorApi0DB8F5B2"},"/test-invoke-stage/GET/posts"]]}}}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/CryptoMonitorApi/Default/posts/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:ap-southeast-2:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["PostsFunction3DC4AEDB","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"CryptoMonitorApipostsE4EA9C3D"},"restApiId":{"Ref":"CryptoMonitorApi0DB8F5B2"}}}}}}}}}}}},"DashboardBucket":{"id":"DashboardBucket","path":"CryptoMonitorStack/DashboardBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/DashboardBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:5bfba3d9","value":"true"}],"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"index.html"}}}},"Policy":{"id":"Policy","path":"CryptoMonitorStack/DashboardBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/DashboardBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"DashboardBucket5758873D"},"policyDocument":{"Statement":[{"Action":["s3:PutBucketPolicy","s3:GetBucket*","s3:List*","s3:DeleteObject*"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["DashboardBucket5758873D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DashboardBucket5758873D","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"DashboardDistributionD4569E0E"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["DashboardBucket5758873D","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"CryptoMonitorStack/DashboardBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.235.1","metadata":[]},"children":{"Default":{"id":"Default","path":"CryptoMonitorStack/DashboardBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"CryptoMonitorStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.235.1"},"children":{"Staging":{"id":"Staging","path":"CryptoMonitorStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.1"}},"Role":{"id":"Role","path":"CryptoMonitorStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}},"Handler":{"id":"Handler","path":"CryptoMonitorStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}}}},"DashboardDistribution":{"id":"DashboardDistribution","path":"CryptoMonitorStack/DashboardDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.235.1","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"CryptoMonitorStack/DashboardDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3OriginAccessControl":{"id":"S3OriginAccessControl","path":"CryptoMonitorStack/DashboardDistribution/Origin1/S3OriginAccessControl","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/DashboardDistribution/Origin1/S3OriginAccessControl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"CryptoMonitorStackDashboardDOrigin1S3OriginAccessControlF8DC00D5","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}}}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/DashboardDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["DashboardBucket5758873D","RegionalDomainName"]},"id":"CryptoMonitorStackDashboardDistributionOrigin1D493A201","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["DashboardDistributionOrigin1S3OriginAccessControlBA44AE78","Id"]}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"CryptoMonitorStackDashboardDistributionOrigin1D493A201","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"customErrorResponses":[{"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"DeployDashboard":{"id":"DeployDashboard","path":"CryptoMonitorStack/DeployDashboard","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.235.1"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"CryptoMonitorStack/DeployDashboard/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.235.1","metadata":[]},"children":{"Code":{"id":"Code","path":"CryptoMonitorStack/DeployDashboard/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.235.1"},"children":{"Stage":{"id":"Stage","path":"CryptoMonitorStack/DeployDashboard/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.1"}},"AssetBucket":{"id":"AssetBucket","path":"CryptoMonitorStack/DeployDashboard/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.235.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/DeployDashboard/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-ap-southeast-2"},"s3Key":"c82567645316e1499ecd064c937f1183bb4a74e95800ff64fab4d308451ba5f0.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"CryptoMonitorStack/DeployDashboard/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.235.1","metadata":[]}},"Asset1":{"id":"Asset1","path":"CryptoMonitorStack/DeployDashboard/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.235.1"},"children":{"Stage":{"id":"Stage","path":"CryptoMonitorStack/DeployDashboard/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.1"}},"AssetBucket":{"id":"AssetBucket","path":"CryptoMonitorStack/DeployDashboard/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.235.1","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"CryptoMonitorStack/DeployDashboard/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.235.1","metadata":[]},"children":{"Default":{"id":"Default","path":"CryptoMonitorStack/DeployDashboard/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.235.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.235.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.1","metadata":[]}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-ap-southeast-2"}]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-ap-southeast-2"},"/*"]]}]},{"Action":["s3:GetObject*","s3:GetBucket*","s3:List*","s3:DeleteObject*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging","s3:Abort*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DashboardBucket5758873D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DashboardBucket5758873D","Arn"]},"/*"]]}]},{"Action":["cloudfront:GetInvalidation","cloudfront:CreateInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.235.1"},"children":{"Stage":{"id":"Stage","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.1"}},"AssetBucket":{"id":"AssetBucket","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.235.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"CryptoMonitorStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-ap-southeast-2"},"s3Key":"3423a042b818e31c1e34a19d6689ab2e5f9b70fcbe9e71df66f241b20a200bd9.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployDashboardAwsCliLayer3969B9EF"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.13","timeout":900}}}}},"ApiUrl":{"id":"ApiUrl","path":"CryptoMonitorStack/ApiUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"DashboardUrl":{"id":"DashboardUrl","path":"CryptoMonitorStack/DashboardUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"IngestEndpoint":{"id":"IngestEndpoint","path":"CryptoMonitorStack/IngestEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"PostsEndpoint":{"id":"PostsEndpoint","path":"CryptoMonitorStack/PostsEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"CryptoMonitorStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"CryptoMonitorStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CryptoMonitorStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.235.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CryptoMonitorStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.235.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}